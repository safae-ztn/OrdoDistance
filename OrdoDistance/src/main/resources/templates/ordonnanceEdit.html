<!DOCTYPE html>
<html lang="fr">
  <html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  >
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      
      
      <link href="css/font-awesome.min.css" rel="stylesheet" />
      <link
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css"
        rel="stylesheet"
        type="text/css"
      />
      <link th:href="@{/css/style2.css}" rel="stylesheet" />
      <link th:href="@{/css/style.css}" rel="stylesheet" />
      <title>Ordodistance</title>

      <style>

        h1 {
  text-align: center;
  font-family: Tahoma, Arial, sans-serif;
  color: #06D85F;
  margin: 80px 0;
}

.box {
  width: 40%;
  margin: 0 auto;
  background: rgba(255,255,255,0.2);
  padding: 35px;
  border: 2px solid #fff;
  border-radius: 20px/50px;
  background-clip: padding-box;
  text-align: center;
}

.button {
  font-size: 1em;
  padding: 10px;
  color: #fff;
  border: 2px solid #06D85F;
  border-radius: 20px/50px;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s ease-out;
}
.button:hover {
  background: #06D85F;
}

.overlay {
  position: fixed;
  z-index:4;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  transition: opacity 500ms;
  visibility: hidden;
  opacity: 0;
}
.overlay:target {
  visibility: visible;
  opacity: 1;
}

.popup {
  margin: 70px auto;
  padding: 20px;
  background: #fff;
  border-radius: 5px;
  width: 30%;
  position: relative;
  transition: all 5s ease-in-out;
}

.popup h2 {
  margin-top: 0;
  color: #333;
  font-family: Tahoma, Arial, sans-serif;
}
.popup .close {
  position: absolute;
  top: 20px;
  right: 30px;
  transition: all 200ms;
  font-size: 30px;
  font-weight: bold;
  text-decoration: none;
  color: #333;
}
.popup .close:hover {
  color: #06D85F;
}
.popup .content {
  max-height: 30%;
  overflow: auto;
}

@media screen and (max-width: 700px){
  .box{
    width: 70%;
  }
  .popup{
    width: 70%;
  }
}
      </style>
    </head>
    <body>
      <!--Nav bar-->
      <header>
        <button>
          <img src="http://localhost:8080/images/logo.png" alt="logo" srcset="" />
          <h3>Ordodistance</h3>
        </button>

        <div class="doctor-info">
          <img
            src="http://localhost:8080/images/Doctor.jpg"
            alt=""
            srcset=""
            width="30"
            height="30"
          />
          <!--<label for="">Dr.lastName</label>-->
          <p>Dr.</p>
          <label
            class="username"
            th:text="${#authentication.getPrincipal().getLastname()}"
            >Guest</label
          >
          <button>
            <svg
              class="bi bi-plus"
              width="1.5em"
              height="1.5em"
              viewBox="0 0 16 16"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"
              />
              <path
                fill-rule="evenodd"
                d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"
              />
            </svg>
          </button>
          <div class="dropdown">
            <button>
              <svg
                class="bi bi-chevron-down"
                width="1.25em"
                height="1.25em"
                viewBox="0 0 16 16"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"
                />
              </svg>
            </button>
            <div class="dropdown-content">
              <a href="#">Profile</a>
              <a th:href="@{/ordonnances}">Mes ordonnances</a>
              <a th:href="@{/patients}">Mes patients</a>
              <a th:href="@{/logout}">Log out</a>
            </div>
          </div>
        </div>
        
        
      </header>
      <nav class="breadcrumb" >
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a th:href="@{/firstPage}"><i class="fas fa-home"></i> Home </a></li>
        <li class="breadcrumb-item">/</li>
    
    <li class="breadcrumb-item"><a th:href="@{/ordonnances}"><i class="fas fa-list"></i> Mes Ordonnances </a></li>
            <li class="breadcrumb-item">/</li>
    
    <li class="breadcrumb-item active" aria-current="page"><i class="far fa-edit"></i> Modifier</li>
  </ol>
</nav>


      <!--  <div class="ordonnance-details-line"></div>-->
      <main class="main-content ordonnance-details">
        <form th:action="@{/ordonnances/edit/{id}(id=${ordonnance.id})}" method="post">

        <div class="ordonnance-details-ordo">
        <h2><i class="fas fa-file-medical"></i> Ordonnance </h2>
        <div>
          <section>
            <label>Maladie :</label>
            <input style="padding: 1px;
    border-radius: 24px;
    border-style: dotted;
    border-color: yellowgreen;" type="text" name="maladie" th:value="${ordonnance.maladie}" />
          </section>
          <section>
            <label>Etat de l'ordonnance :</label>
            <th:block th:if="${ordonnance.sent == false}">
              <p>En attente</p>
            </th:block>
            <th:block th:if="${ordonnance.sent == true}">
              <p>Envoyé</p>
            </th:block>
          </section>
          </div>
        </div>
        
        <div
          class="ordonnance-details-med">
        <h2><i class="fas fa-capsules"></i> Medicaments </h2>

        <div
          style="display: flex; justify-content: space-between; width: 50%"
        >
          <th:block th:each="medicament:${ordonnance.medicaments}">
            <section>
              <h3>Medicament</h3>
              <th:block
                th:each="medNom:${#strings.arraySplit(medicament.nom,',')}"
              >
                <input style="padding: 1px;
    border-radius: 24px;
    border-style: dotted;
    border-color: yellowgreen;" type="text" name="nom" th:value="${medNom}"/>
              </th:block>
            </section>
            <section>
              <h3>Nombre de fois</h3>
              <th:block
                th:each="medNbrFois:${#strings.arraySplit(medicament.nbrefois,',')}"
              >
                <input style="padding: 1px;
    border-radius: 24px;
    border-style: dotted;
    border-color: yellowgreen;" type="text" name="nbrefois" th:value="${medNbrFois}" />
              </th:block>
            </section>
            <section>
              <h3>Période</h3>
              <th:block
                th:each="medPendant:${#strings.arraySplit(medicament.pendant,',')}"
              >
                <input style="padding: 1px;
    border-radius: 24px;
    border-style: dotted;
    border-color: yellowgreen;" type="text" name="pendant" th:value="${medPendant}" />
              </th:block>
            </section>
          </th:block>
          </div>
        </div>
<div class="ordonnance-details-patient" style="    margin-bottom: 50px;">
        <h2><i class="fas fa-user-injured"></i> Patient </h2>
        <div>
          <label for="">CIN :</label>
          <p th:text="${ordonnance.patient.CIN}"></p>
          <br />
          <section></section>
          <section>
            <section>
              <label for="">Nom :</label>
              <p th:text="${ordonnance.patient.nom}"></p>
            </section>
            <section>
              <label for="">Prenom :</label>
              <p th:text="${ordonnance.patient.prenom}"></p>
              <br />
            </section>

            <section>
              <label for="">Date de naissance :</label>
              <p th:text="${ordonnance.patient.dateNaissance}"></p>
            </section>
          </section></div>
        </div>
          <a href="#popup1" style="border-radius: 40px;
    color: white;
    background-color:yellowgreen;
    text-decoration: none;
    border: none;
    font-size: 0.9em;
    padding: 15px;
    margin: 25px 3px;
    cursor: pointer;
    box-shadow: 0 1px 2px 0 rgba(60,64,67,.30), 0 1px 3px 1px rgba(60,64,67,.15);">Modifier</a>
          <a href="#popup2" style="border-radius: 40px;
    color: yellowgreen;
    text-decoration: none;
    border: none;
    font-size: 0.9em;
    padding: 15px;
    margin: 25px 3px;
    cursor: pointer;
    box-shadow: 0 1px 2px 0 rgba(60,64,67,.30), 0 1px 3px 1px rgba(60,64,67,.15);">Annuler</a>

          <div id="popup1" class="overlay">
            <div class="popup">
              <h2>Confirmer les modifications</h2>
              <a class="close" href="#">&times;</a>
              <div class="content">
                Voulez-vous vraiment modifier votre ordonnance?
              </div><br><br>
              <input style="padding: 10px;
              background-color:unset;
    border-radius: 24px;
    border-style: solid;
    border-color: yellowgreen;" type="submit" value="Modifier">
              <a style="pborder-radius: 40px;
    color: yellowgreen;
        border-radius: 24px;

    text-decoration: none;
    border: none;
    font-size: 0.9em;
    padding: 10px;
    margin: 25px 3px;
    cursor: pointer;
    box-shadow: 0 1px 2px 0 rgba(60,64,67,.30), 0 1px 3px 1px rgba(60,64,67,.15);" th:href="@{/ordonnances}">Annuler</a>
            </div>
          </div>

          <div id="popup2" class="overlay">
            <div class="popup">
              <h2>Annuler les modifications</h2>
              <a class="close" href="#">&times;</a>
              <div class="content">
                Vous risquez de perdre toutes vos modifications!
              </div>
              <br /><br />
              <a style="pborder-radius: 40px;
    color: #fff;
        border-radius: 24px;
  background-color:#10225A;
    text-decoration: none;
    border: none;
    font-size: 0.9em;
    padding: 10px;
    margin: 25px 3px;
    cursor: pointer;
    box-shadow: 0 1px 2px 0 rgba(60,64,67,.30), 0 1px 3px 1px rgba(60,64,67,.15);" th:href="@{/ordonnances}">Annuler quand meme!</a><br>
            </div>
          </div>

        </form>

        <!-- /* <table class="table table-striped table-advance table-hover">
          <thead class="thead-dark">
            <tr>
              <th>Date</th>
              <th>Maladie</th>
              <th>Patient</th>
              <th>Etat de l'ordonnance</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="ordonnance:${ordonnances}">
              <td th:text="${ordonnance.dateo}"></td>
              <td th:text="${ordonnance.Maladie}"></td>
              <td th:text="${ordonnance.patient_id.CIN}"></td>
              <td>
                <th:block th:if="${ordonnance.sent == false}"
                  >En attente</th:block
                >
                <th:block th:if="${ordonnance.sent == true}">Envoyée</th:block>
              </td>
              <td>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                  "
                >
                  <a
                    class="ordo-operation"
                    id="editButton"
                    th:href="@{/ordonnances/(id=${ordonnance.id})}"
                    ><i class="far fa-edit" title="modifier"></i
                  ></a>
                  <a
                    class="ordo-operation"
                    id="detailsButton"
                    th:href="@{/ordonnances/findById/(id=${ordonnance.id})}"
                    ><i class="far fa-paper-plane" title="envoyer"></i
                  ></a>
                  <a
                    class="ordo-operation"
                    id="deleteButton"
                    th:href="@{/ordonnances/delete/(id=${ordonnance.id})}"
                    ><i class="fas fa-archive" title="archiver"></i
                  ></a>

                  <a
                    class="ordo-operation"
                    id="deleteButton"
                    th:href="@{/ordonnances/delete/(id=${ordonnance.id})}"
                    ><i class="far fa-copy" title="cloner"></i
                  ></a>

                  <a
                    class="ordo-operation"
                    id="deleteButton"
                    th:href="@{/ordonnances/delete/(id=${ordonnance.id})}"
                    ><i class="far fa-trash-alt" title="supprimer"></i
                  ></a>
                </div>
              </td>
            </tr>
          </tbody>
        </table>*/ -->
      </main>
      <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    </body>
  </html>
</html>
