<!DOCTYPE html>
<html lang="fr">
<html xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:th="http://www.thymeleaf.org" 
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
    
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link href="css/font-awesome.min.css" rel="stylesheet" />
      <link
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css"
        rel="stylesheet"
        type="text/css"
      />
      <link th:href="@{/css/style2.css}" rel="stylesheet" />
      <link th:href="@{/css/style.css}" rel="stylesheet" />
      <title>Ordodistance</title>
    </head>
    <body>
      <!--Nav bar-->
      <header>
        <button>
          <img src="images/logo.png" alt="logo" srcset="" />
          <h3>Ordodistance</h3>
        </button>
        
        <div class="doctor-info">
          <img
            src="images/Doctor.jpg"
            alt=""
            srcset=""
            width="30"
            height="30"
          />
          <!--<label for="">Dr.lastName</label>-->
          <p>Dr.</p>
          <label
            class="username"
            th:text="${#authentication.getPrincipal().getLastname()}"
            >Guest</label
          >
          <button>
            <svg
              class="bi bi-plus"
              width="1.5em"
              height="1.5em"
              viewBox="0 0 16 16"
              fill="currentColor"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"
              />
              <path
                fill-rule="evenodd"
                d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"
              />
            </svg>
          </button>
          <div class="dropdown">
            <button>
              <svg
                class="bi bi-chevron-down"
                width="1.25em"
                height="1.25em"
                viewBox="0 0 16 16"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"
                />
              </svg>
            </button>
            <div class="dropdown-content">
              <a href="#">Profile</a>
              <a th:href="@{/logout}">Log out</a>
              <a th:href="@{/ordonnances}">Mes ordonnances</a>
            </div>
          </div>
        </div>
      </header>

      <main class="main-content ordonnance-details">
        <h2> <i class="fas fa-file-medical-alt"></i> Ordonnance :</h2>
        <label>Date :</label>
        <input type="text" th:value="${ordonnance.dateo}" />
        <br />

        <label>Maladie :</label>
        <input type="text" th:value="${ordonnance.maladie}" />
        <br />

        <label>Etat de l'ordonnance :</label>
        <th:block th:if="${ordonnance.sent == false}">
          <input type="text" value="En attente" />
        </th:block>
        <th:block th:if="${ordonnance.sent == true}">
          <input type="text" value="Envoyé" />
        </th:block>
        <br />

        <h2> <i class="fas fa-capsules"></i> Medicaments :</h2>

        <div
          style="
            background-color: tomato;
            display: flex;
            justify-content: space-evenly;
          "
        >
          <th:block th:each="medicament:${ordonnance.medicaments}">
            <section>
              <h3>Medicament</h3>
              <th:block
                th:each="medNom:${#strings.arraySplit(medicament.nom,',')}"
              >
                <input type="text" th:value="${medNom}" /><br /><br />
              </th:block>
            </section>
            <section>
              <h3>Nombre de fois</h3>
              <th:block
                th:each="medNbrFois:${#strings.arraySplit(medicament.nbrefois,',')}"
              >
                <input type="text" th:value="${medNbrFois}" /><br /><br
              /></th:block>
            </section>
            <section>
              <h3>Période</h3>
              <th:block
                th:each="medPendant:${#strings.arraySplit(medicament.pendant,',')}"
              >
                <input type="text" th:value="${medPendant}" /><br /><br />
              </th:block>
            </section>
          </th:block>
        </div>

        <h2> <i class="fas fa-user-injured"></i> Patient :</h2>

        <label for="">CIN :</label>
        <input type="text" th:value="${ordonnance.patient.CIN}" /><br />

        <label for="">Nom :</label>
        <input type="text" th:value="${ordonnance.patient.nom}" />

        <label for="">Prenom :</label>
        <input type="text" th:value="${ordonnance.patient.prenom}" /><br />

        <label for="">genre :</label>
        <input type="text" th:value="${ordonnance.patient.sexe}" />

        <label for="">age :</label>
        <input type="text" th:value="${ordonnance.patient.age}" />

        <!-- /* <table class="table table-striped table-advance table-hover">
          <thead class="thead-dark">
            <tr>
              <th>Date</th>
              <th>Maladie</th>
              <th>Patient</th>
              <th>Etat de l'ordonnance</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="ordonnance:${ordonnances}">
              <td th:text="${ordonnance.dateo}"></td>
              <td th:text="${ordonnance.Maladie}"></td>
              <td th:text="${ordonnance.patient_id.CIN}"></td>
              <td>
                <th:block th:if="${ordonnance.sent == false}"
                  >En attente</th:block
                >
                <th:block th:if="${ordonnance.sent == true}">Envoyée</th:block>
              </td>
              <td>
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                  "
                >
                  <a
                    class="ordo-operation"
                    id="editButton"
                    th:href="@{/ordonnances/(id=${ordonnance.id})}"
                    ><i class="far fa-edit" title="modifier"></i
                  ></a>
                  <a
                    class="ordo-operation"
                    id="detailsButton"
                    th:href="@{/ordonnances/findById/(id=${ordonnance.id})}"
                    ><i class="far fa-paper-plane" title="envoyer"></i
                  ></a>
                  <a
                    class="ordo-operation"
                    id="deleteButton"
                    th:href="@{/ordonnances/delete/(id=${ordonnance.id})}"
                    ><i class="fas fa-archive" title="archiver"></i
                  ></a>

                  <a
                    class="ordo-operation"
                    id="deleteButton"
                    th:href="@{/ordonnances/delete/(id=${ordonnance.id})}"
                    ><i class="far fa-copy" title="cloner"></i
                  ></a>

                  <a
                    class="ordo-operation"
                    id="deleteButton"
                    th:href="@{/ordonnances/delete/(id=${ordonnance.id})}"
                    ><i class="far fa-trash-alt" title="supprimer"></i
                  ></a>
                </div>
              </td>
            </tr>
          </tbody>
        </table>*/ -->
      </main>
    </body>
  </html>
</html>
